<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculates the 11 parameters for ambrosia using data calculated by create.dataset.for.parameter.fit by maximizing log likelihood — calculate.ambrosia.params • ambrosia</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Calculates the 11 parameters for ambrosia using data calculated by create.dataset.for.parameter.fit by maximizing log likelihood — calculate.ambrosia.params" />
<meta property="og:description" content="Calculates the 11 parameters for ambrosia using data calculated by create.dataset.for.parameter.fit by maximizing log likelihood" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ambrosia</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.3.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/ambrosia_vignette.html">`ambrosia`: User Tutorial</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculates the 11 parameters for ambrosia using data calculated by <code><a href='create.dataset.for.parameter.fit.html'>create.dataset.for.parameter.fit</a></code> by maximizing log likelihood</h1>
    
    <div class="hidden name"><code>calculate.ambrosia.params.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculates the 11 parameters for ambrosia using data calculated by <code><a href='create.dataset.for.parameter.fit.html'>create.dataset.for.parameter.fit</a></code> by maximizing log likelihood</p>
    </div>

    <pre class="usage"><span class='fu'>calculate.ambrosia.params</span><span class='op'>(</span>
  optim_method <span class='op'>=</span> <span class='st'>"BFGS"</span>,
  original_param_vector <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1.28</span>, <span class='fl'>1.14</span>, <span class='op'>-</span><span class='fl'>0.19</span>, <span class='fl'>0.21</span>, <span class='op'>-</span><span class='fl'>0.33</span>, <span class='fl'>0.5</span>, <span class='fl'>0.1</span>, <span class='fl'>16</span>, <span class='fl'>5.06</span>, <span class='fl'>100</span>,
    <span class='fl'>20</span><span class='op'>)</span>,
  datadir <span class='op'>=</span> <span class='st'>"outputs/Processed_Data_for_MC.csv"</span>,
  outdir <span class='op'>=</span> <span class='st'>"tests/testthat/test_outputs/"</span>,
  max_iterations <span class='op'>=</span> <span class='fl'>100</span>,
  print_progress <span class='op'>=</span> <span class='cn'>FALSE</span>,
  trace_param <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>optim_method</th>
      <td><p>The optimization method to be used for maximization of the log likelihood. The default is set to BFGS</p></td>
    </tr>
    <tr>
      <th>original_param_vector</th>
      <td><p>Original parameter vector to be used as the starting point for the optimization.These parameters are taken from Edmonds et al 2017</p></td>
    </tr>
    <tr>
      <th>datadir</th>
      <td><p>Directory to the data calculated by <code><a href='create.dataset.for.parameter.fit.html'>create.dataset.for.parameter.fit</a></code></p></td>
    </tr>
    <tr>
      <th>outdir</th>
      <td><p>Directory to store output csv. Default is set to test_output folder.</p></td>
    </tr>
    <tr>
      <th>max_iterations</th>
      <td><p>A maximum number of iterations that can be passed to optim. This is largely meant for testing purposes.Default is set to 100 for BFGS.</p></td>
    </tr>
    <tr>
      <th>print_progress</th>
      <td><p>A parameter that allows the user to track progress of function.</p></td>
    </tr>
    <tr>
      <th>trace_param</th>
      <td><p>Setting this to TRUE will generate a .dat file with all parameter samples and log likelihhod value during a parameter fitting exercise (eg. MCMC)</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A vector with the 11 parameters which are as follows,</p>
<p>A_s : A scaling term for staple commodities</p>
<p>A_n : A scaling perm for nonstaples commodities</p>
<p>xi_ss : Price elasticity for staples</p>
<p>xi_cross : Cross price elasticity</p>
<p>xi_nn : Price elasticity for non-staples</p>
<p>nu_1n : Income elasticity for non-staples</p>
<p>lambda_s : Income elasticity for staples</p>
<p>k_s : Income level at which total demand begins saturating</p>
<p>Pm : Scaling parameter for price of materials (everything other than staples and non-staples)</p>
<p>psscl : Price scaling parameter for staples that is applied to the Price of staples (Ps) and the alpha of staples</p>
<p>pnscl : Price scaling parameter for staples that is applied to the Price of non-staples (Pn) and the alpha of non-staples</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The following steps are involved in the parameter estimation function.</p>
<p>1) First a log-likelihood function is set up with the data.</p>
<p>2) Next, the value returned by the log-likelihood function will be maximized using optim(). The user can provide
 a seed of initial parameters to begin the optimization process (the lowest possible seed would be the lowest
 values of all 11 parameters). The default seed is set to the original parameters from Edmonds et al (2017). The user
 can now specify the optimization method to be used. The default is set to the "BFGS" method, but the user can
 also run the optimization using methods such as "Neldor-Mead".</p>
<p>3) Finally, the function will now return a vector of parameters that can be used to derive estimates of food demand (using the <code><a href='food.dmnd.html'>food.dmnd</a></code> function). The function also prints out the maximized value of the log-likelihood function, so that the user can verify the efficiency and effectiveness of the parameter estimation.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>KBN 2020</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Kanishka Narayan, Chris Vernon, Stephanie Waldhoff, James Edmonds, Ryna Cui.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


